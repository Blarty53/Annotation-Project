<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pending Submissions</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>Pending Submissions</h1>
    <p>These are URLs submitted by the community that are awaiting verification.</p>
</header>

<div id="issues"></div>

<footer>
    <p>© 2026 Annotation Project</p>
</footer>

<script>
async function loadIssues() {
    const username = "Blarty53";
    const repo = "Annotation-Project";

    const res = await fetch(`https://api.github.com/repos/${username}/${repo}/issues?state=open`);
    const issues = await res.json();

    const container = document.getElementById('issues');
    container.innerHTML = '';

    issues.forEach(issue => {
        const labels = issue.labels.map(l => `<span class="label" style="background:#${l.color}; padding:4px 8px; border-radius:4px; color:#fff; margin-right:5px;">${l.name}</span>`).join('');

        const div = document.createElement('div');
        div.className = 'annotation';

        div.innerHTML = `
            <h3>${issue.title}</h3>
            <p>${issue.body.replace(/\n/g, '<br>')}</p>
            <p><strong>Labels:</strong> ${labels}</p>
            <p><a href="${issue.html_url}" target="_blank">View on GitHub →</a></p>
            <p><strong>Submitted:</strong> ${new Date(issue.created_at).toLocaleString()}</p>
        `;

        container.appendChild(div);
    });
}

loadIssues();
</script>

</body>
</html>
